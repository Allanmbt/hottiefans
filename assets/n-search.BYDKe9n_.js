import{_ as e}from"./n-icon.C34IfF9H.js";import{r as l,c as s,J as a,b as n,d as o,w as i,i as t,o as c,n as r,m as p,f as u,e as y,N as d,h as f,t as b,P as v,q as g}from"./index-DyB-GtSf.js";import{r as h}from"./uni-app.es.CYr7Wecl.js";import{m as S}from"./props.CkprGx8I.js";import{_ as m}from"./_plugin-vue_export-helper.BCo6x5W8.js";const x=m({__name:"n-search",props:S([["value","",[String,Number]],["icon","search"],["placeholder","输入内容开始搜索"],["position","left"],["focus",!1],["adjust",!0],["cursorSpacing",0],["disabled",!1],["confirmType","search"],["fixIcon",!1],["iconTextSpace","12rpx"],"bgType",["valueType","text"],["placeIconType","place"],["iconType","text"],["placeType","place"],["height","base"],["border","all"],["radius","ll"],["ps","32"],["valueSize","base"],["iconSize","l"],["placeSize","base"],["boxStyle","padding-left:32rpx;padding-right:32rpx;"],"iconStyle","placeStyle","valueBoxStyle","valueStyle","placeBoxStyle","boxClass","iconClass","placeClass","valueClass"]),emits:["update:value","confirm","focus","blur","keyboardHeightChange","searchClicked"],setup(S,{emit:m}){const x=S,C=m,T=l(null),_=l(null),z=l(x.value),j=s((()=>!z.value||0===z.value.length));function k(e){z.value=e.detail.value,C("update:value",e.detail.value)}function I(e){C("confirm",e.detail.value)}function w(e){C("focus",e)}function B(e){C("blur",e)}function K(e){C("keyboardHeightChange",e)}function q(){x.disabled&&C("searchClicked")}return a((()=>x.value),(e=>{z.value=e})),(l,s)=>{const a=h(n("n-icon"),e),S=v,m=t,x=g;return c(),o(m,{bubble:"true",onClick:q},{default:i((()=>["left"===l.position&&l.fixIcon?(c(),o(m,{key:0,class:r(["n-position-relative","n-bg-"+l.bgType,"n-border-"+l.border,"n-radius-"+l.radius,"n-height-"+l.height,"n-flex-row","n-align-center","n-ps-"+l.ps,l.boxClass]),style:p(l.boxStyle)},{default:i((()=>[l.icon?(c(),o(a,{key:0,name:l.icon,type:j.value?l.placeIconType:l.iconType,size:l.iconSize,iconStyle:l.iconStyle,boxStyle:"margin-right:"+l.iconTextSpace+";",onIconClicked:q},null,8,["name","type","size","iconStyle","boxStyle"])):u("",!0),y(S,{ref_key:"ninput",ref:T,disabled:l.disabled,value:z.value,focus:l.focus,"cursor-spacing":l.cursorSpacing,"adjust-position":l.adjust,"confirm-type":l.confirmType,class:r(["n-flex-1","n-color-"+l.valueType,"n-size-"+l.valueSize,l.valueClass]),style:p(l.valueStyle),placeholder:j.value?l.placeholder:"","placeholder-style":l.placeStyle,"placeholder-class":l.placeClass||"n-color-"+l.placeType,onInput:k,onConfirm:I,onFocus:w,onBlur:B,onKeyboardheightchange:K},null,8,["disabled","value","focus","cursor-spacing","adjust-position","confirm-type","class","style","placeholder","placeholder-style","placeholder-class"]),d(l.$slots,"extra",{},void 0,!0)])),_:3},8,["class","style"])):(c(),o(m,{key:1,class:r(["n-position-relative","n-sizing-border","n-bg-"+l.bgType,"n-border-"+l.border,"n-radius-"+l.radius,"n-height-"+l.height,"n-align-center","n-wrap-nowrap","n-ps-"+l.ps,l.boxClass]),style:p(l.boxStyle)},{default:i((()=>[y(m,{class:r(["n-position-absolute","n-position-0","n-flex-row","n-align-center","n-ps-"+l.ps,"n-justify-"+("left"==l.position?"start":"right"==l.position?"end":"center")]),style:p(l.placeBoxStyle)},{default:i((()=>[j.value&&l.icon?(c(),o(m,{key:0,style:p({"margin-right":l.iconTextSpace})},{default:i((()=>[y(a,{name:l.icon,type:l.placeIconType,size:l.iconSize,iconStyle:l.iconStyle,iconClass:l.iconClass,onIconClicked:q},null,8,["name","type","size","iconStyle","iconClass"])])),_:1},8,["style"])):u("",!0),y(x,{class:r(["n-color-"+l.placeType,"n-size-"+l.valueSize,l.placeClass]),style:p(l.placeStyle)},{default:i((()=>[f(b(j.value?l.placeholder:""),1)])),_:1},8,["class","style"])])),_:1},8,["class","style"]),y(m,{class:r(["n-position-absolute","n-position-0","n-flex-row","n-align-center","n-ps-"+l.ps]),style:p(l.valueBoxStyle)},{default:i((()=>[y(S,{ref_key:"ninput1",ref:_,disabled:l.disabled,value:z.value,focus:l.focus,"cursor-spacing":l.cursorSpacing,"adjust-position":l.adjust,"confirm-type":l.confirmType,class:r(["n-flex-1","n-text-align-"+l.position,"n-color-"+l.valueType,"n-size-"+l.valueSize,l.valueClass]),style:p(l.valueStyle),onInput:k,onConfirm:I,onFocus:w,onBlur:B,onKeyboardheightchange:K},null,8,["disabled","value","focus","cursor-spacing","adjust-position","confirm-type","class","style"]),d(l.$slots,"extra",{},void 0,!0)])),_:3},8,["class","style"])])),_:3},8,["class","style"]))])),_:3})}}},[["__scopeId","data-v-4130f19f"]]);export{x as _};
