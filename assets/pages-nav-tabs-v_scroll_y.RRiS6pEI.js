import{r as e,b as t,d as o,w as n,i as s,o as a,e as r,j as l,m as i,k as p,l as u,F as c,G as m,h as f,t as d,v,q as h}from"./index-DyB-GtSf.js";import{_ as g}from"./n-navbar.DgJOiXYI.js";import{o as y,r as x}from"./uni-app.es.CYr7Wecl.js";import{_ as j}from"./n-tabs-v.C_odvkXd.js";import{_}from"./n-height.iPg7YRxT.js";import{_ as b}from"./n-loading.sMz0NkAc.js";import{_ as k}from"./n-toast.BftX-TBc.js";import{i as w}from"./introScroll.B8Jw01dl.js";import{h as T}from"./hIntroCard.DsWTVuNl.js";import{p as S}from"./pagesData.Bk0_LUY4.js";import{g as C}from"./system.Bdz65IDa.js";import{g as F}from"./element.B9OwrRfy.js";import{u as L}from"./useNav.y5ABEmWP.js";import"./n-icon.C34IfF9H.js";import"./props.CkprGx8I.js";import"./_plugin-vue_export-helper.BCo6x5W8.js";import"./n-badge.U9JWwHKe.js";import"./n-scroll-h.Dy6YmdyY.js";import"./vCareCard.BXSzvlu1.js";import"./n-button.C0Lbq8AA.js";import"./n-loading-indicator.BodNpqVl.js";import"./imgs.wUGTdslH.js";import"./n-divider.5GELhiLD.js";const z={__name:"v_scroll_y",setup(z){const{leftIcons:A,navLeftAction:I}=L(),q=e(0),D=e(0),G=e(0),H=e(0),K=e([]);let M=[];const N=e(null);e(0);let O=!1;const P=e(null),Q=e(null);function R(e){O=!0,G.value=e,N.value=S[e].key}function V(e){if(N.value=null,O)return;const t=e.detail.scrollTop;for(const o in M){if(t<=M[o])return void(G.value=1*o)}G.value=S.length-1}function W(){O=!1}function B(e){e.sort(((e,t)=>e-t));const t=[];e.map((o=>{t.push(o-e[0])})),M=t.slice(1),P.value.hide()}function E(){Q.value.show({text:"谢谢你关注我",type:"error",mode:"big"})}function J(){Q.value.show({text:"不可以离开我呦",type:"warning",mode:"big"})}return y((()=>{D.value=C("x"),q.value=C("window-!status-!nav-!600rpx"),function(){const e=[];for(const t in S){const o=S[t];e.push({name:o.name,key:o.key,page:o.page,desc:o.desc,type:"title"});const n=o.items;for(const s in n){const o=n[s];e.push({name:o.name,key:"c_"+t+"_"+s,page:o.page,desc:o.desc,type:"cell"})}}K.value=e,setTimeout((()=>{P.value.show()}),0),setTimeout((()=>{!function(){const e=[];for(const t in S){const o=S[t];F(o.key,!0).then((t=>{e.push(t.top),e.length===S.length&&B(e)})).catch((e=>{P.value.hide()}))}}()}),100)}(),setTimeout((()=>{}),50)})),(e,y)=>{const C=x(t("n-navbar"),g),F=x(t("n-tabs-v"),j),L=h,z=s,M=x(t("n-height"),_),O=m,B=x(t("n-loading"),b),U=x(t("n-toast"),k);return a(),o(z,{class:"n-bg-inverse"},{default:n((()=>[r(C,{lefts:l(A),title:"左右联动",onLeftAction:l(I)},null,8,["lefts","onLeftAction"]),r(w,{onCare:E,onClose:J}),r(z,{class:"n-flex-row n-wrap-nowrap n-border-top"},{default:n((()=>[r(F,{bottom:D.value+"px",hoverTop:!0,updateTime:H.value,value:G.value,items:l(S),width:"150rpx",height:"100rpx",textLabel:"name",bgType:"inverse",scrollSize:q.value+"px",textType:"second",textSize:"l",activeTextType:"inverse",itemStyle:"padding-left:30rpx;background-color:#FFFFFF;",activeItemStyle:"background-color:#2ea0e0;",indicatorLeft:"16rpx",indicatorHeight:"36rpx",indicatorType:"inverse",onChange:R},null,8,["bottom","updateTime","value","items","scrollSize"]),r(O,{"scroll-y":!0,"scroll-into-view":N.value,"scroll-with-animation":!0,class:"n-flex-1 n-border-left",style:i({height:q.value+"px"}),onScroll:V,onTouchstart:W},{default:n((()=>[(a(!0),p(c,null,u(K.value,((e,t)=>(a(),p(c,{key:t},["title"===e.type?(a(),o(z,{key:0,ref_for:!0,ref:e.key,id:e.key},{default:n((()=>[r(L,{class:"n-color-third n-size-base",style:{"line-height":"80rpx","margin-left":"30rpx"}},{default:n((()=>[f(d(e.name),1)])),_:2},1024)])),_:2},1032,["id"])):(a(),o(z,{key:1,style:{margin:"0 30rpx"}},{default:n((()=>[r(T,{item:e,showCare:!1,onSelect:t=>{return o=e.page,void v({url:o});var o}},null,8,["item","onSelect"]),r(z,{style:{height:"30rpx"}})])),_:2},1024))],64)))),128)),r(M,{height:"x"})])),_:1},8,["scroll-into-view","style"])])),_:1}),r(B,{ref_key:"nloading",ref:P},null,512),r(U,{ref_key:"ntoast",ref:Q},null,512)])),_:1})}}};export{z as default};
