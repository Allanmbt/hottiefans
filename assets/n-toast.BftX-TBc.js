import{_ as e}from"./n-icon.C34IfF9H.js";import{I as t,c as n,b as s,o,d as l,w as i,m as a,e as y,n as c,f as p,h as r,t as f,H as x,q as d,i as S}from"./index-DyB-GtSf.js";import{r as m}from"./uni-app.es.CYr7Wecl.js";import{g as u}from"./system.Bdz65IDa.js";const g={__name:"n-toast",props:{boxStyle:{type:String,default:""},baseWidth:{type:String,default:"750rpx"},baseHeight:{type:String,default:"window"}},setup(g,{expose:b}){b({show:function(e,t=null,n=null,s=null){z&&clearTimeout(z),k.showing&&(k.showing=!1);let o=2e3,l=null,i={};if(e&&e.message){let t=e.message;e.fileName&&(t+=" "+e.fileName),e.lineNumber&&(t+=" "+e.lineNumber),i.text=t,i=s&&"object"==typeof s?Object.assign({},{text:t},s):{text:t,type:"error",bgType:"error",icon:"error",pos:"center",offset:"0"}}else i=Object.assign({},e||{});i.interval?o=i.interval:0===i.interval&&(o=0);delete i.interval,i.finish&&(l=i.finish,delete i.finish);"boolean"==typeof i.needMask?(k.needMask=i.needMask,delete i.needMask):k.needMask=!1;i.mode?(k.mode=i.mode,delete i.mode):k.mode="small";i.contentStyle?(k.contentStyle=i.contentStyle,delete i.contentStyle):k.contentStyle="";i.iconStyle?(k.iconStyle=i.iconStyle,delete i.iconStyle):k.iconStyle="";i.iconType?(k.iconType=i.iconType,delete i.iconType):k.iconType="inverse";i.iconSize?(k.iconSize=i.iconSize,delete i.iconSize):k.iconSize="ll";i.textStyle?(k.textStyle=i.textStyle,delete i.textStyle):k.textStyle="";i.textType?(k.textType=i.textType,delete i.textType):k.textType="inverse";i.textSize?(k.textSize=i.textSize,delete i.textSize):k.textSize="base";for(const a in i)k[a]=i[a];k.type||(k.type="default");i.bgType||(k.bgType=k.type,"default"===k.type&&(k.bgType="mask-dark"));i.icon||(k.icon="toast-"+k.type);i.pos||(k.pos="center");(void 0===i.offset||"string"==typeof i.offset&&0===i.offset.length)&&(k.offset="0");t&&(o=t);n&&(l=n);k.showing=!0,z=setTimeout((()=>{k.showing=!1,l&&l()}),o)}});const T=g;let z=null;const k=t({needMask:!1,maskType:"mask",maskStyle:"",pos:"center",offset:"0",mode:"small",type:"",bgType:"",icon:"",text:"",textType:"inverse",textSize:"base",iconType:"inverse",iconSize:"ll",contentStyle:"",iconStyle:"",textStyle:"",showing:!1}),v=n((()=>u(T.baseHeight))),h=n((()=>u(T.baseWidth))),w=n((()=>u(k.offset))),_=n((()=>{let e=`left:${.5*h.value}px;`;if("center"===k.pos){e+=`top:${.5*v.value+w.value}px;transform:translate(-50%, -50%);`}else"bottom"===k.pos?e+=`bottom:${w.value}px;transform:translateX(-50%);`:e+=`top:${w.value}px;transform:translateX(-50%);`;return e}));function M(e){e.stopPropagation&&e.stopPropagation()}return(t,n)=>{const u=m(s("n-icon"),e),b=d,T=S;return k.showing?(o(),l(T,{key:0,class:c([k.needMask?"n-position-fixed":"n-position-relative",k.needMask&&"n-position-0",k.needMask&&"n-zindex-toast-overlay",k.needMask&&"n-bg-"+k.maskType]),onClick:x(M,["stop"]),style:a(g.boxStyle+k.maskStyle)},{default:i((()=>["big"===k.mode?(o(),l(T,{key:0,class:"n-position-fixed n-zindex-toast",style:a(_.value)},{default:i((()=>[y(T,{class:c(["n-toast-box","n-flex-column","n-align-center","n-justify-center","n-bg-"+k.bgType]),style:a(k.contentStyle)},{default:i((()=>[k.icon?(o(),l(u,{key:0,name:k.icon,type:k.iconType,size:k.iconSize,iconStyle:"font-size:60rpx;"+k.iconStyle},null,8,["name","type","size","iconStyle"])):p("",!0),k.text?(o(),l(b,{key:1,class:c(["n-toast-text","n-lines-2","n-color-"+k.textType,"n-size-"+k.textSize]),style:a(k.textStyle)},{default:i((()=>[r(f(k.text),1)])),_:1},8,["class","style"])):p("",!0)])),_:1},8,["class","style"])])),_:1},8,["style"])):(o(),l(T,{key:1,class:"n-position-fixed n-zindex-toast n-toast-small n-flex-row n-justify-center",style:a(_.value)},{default:i((()=>[y(T,{class:c(["n-toast-small-box","n-flex-row","n-align-center","n-bg-"+k.bgType]),style:a(k.contentStyle)},{default:i((()=>[k.icon?(o(),l(T,{key:0,style:{"margin-right":"24rpx"}},{default:i((()=>[y(u,{name:k.icon,type:k.iconType,size:k.iconSize,iconStyle:k.iconStyle},null,8,["name","type","size","iconStyle"])])),_:1})):p("",!0),k.text?(o(),l(b,{key:1,class:c(["n-toast-small-text","n-flex-1","n-lines-2","n-color-"+k.textType,"n-size-"+k.textSize]),style:a(k.textStyle)},{default:i((()=>[r(f(k.text),1)])),_:1},8,["class","style"])):p("",!0)])),_:1},8,["class","style"])])),_:1},8,["style"]))])),_:1},8,["class","style"])):p("",!0)}}};export{g as _};
