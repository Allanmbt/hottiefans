import{_ as e}from"./n-navbar.DgJOiXYI.js";import{r as t,K as l,c as i,d as s,w as a,n,m as r,i as o,o as c,e as u,h as d,t as m,f as y,q as x,b as f,j as p}from"./index-DyB-GtSf.js";import{r as T}from"./uni-app.es.CYr7Wecl.js";import{m as g}from"./props.CkprGx8I.js";import{_ as h}from"./n-list-cell.CFZ1yxA_.js";import{_ as v}from"./n-list.qlhvrMMX.js";import{_}from"./descView.DF7dA0Th.js";import{u as w}from"./useNav.y5ABEmWP.js";import"./n-icon.C34IfF9H.js";import"./_plugin-vue_export-helper.BCo6x5W8.js";import"./n-badge.U9JWwHKe.js";import"./system.Bdz65IDa.js";import"./usePager.Bx7XEHLh.js";import"./element.B9OwrRfy.js";const j={__name:"n-countdown",props:g([["time",0],["interval",1e3],["tpl","{h}:{m}:{s}"],"bgType","border","radius","itemBgType","itemBorder","itemRadius",["itemTextType","text"],["itemTextSize","l"],["itemHeight","base"],["itemWidth","0"],["indicatorTextType","text"],["indicatorTextSize","l"],["indicatorWidth","60rpx"],"boxStyle","itemBoxStyle","indicatorBoxStyle","itemTextStyle","indicatorTextStyle","boxClass","itemBoxClass","indicatorBoxClass","itemTextClass","indicatorTextClass"]),emits:["completed"],setup(e,{emit:f}){const p=e,T=f,g=t(Date.now()),h=t(!1),v=t(-1),_=t(-1),w=t(-1),j=t(-1);l((()=>{setInterval((()=>{g.value=Date.now()}),p.interval),v.value=p.tpl.indexOf("d"),_.value=p.tpl.indexOf("h"),w.value=p.tpl.indexOf("m"),j.value=p.tpl.indexOf("s")}));const S=i((()=>{const e=p.time-g.value;if(e<0)return!1===h.value&&T("completed"),h.value=!0,{day:"00",hour:"00",minute:"00",second:"00"};let t=0,l=0,i=0,s=0;return-1!==v.value?(t=Math.floor(e/864e5),l=Math.floor(e%864e5/36e5)):(t=0,l=Math.floor(e/36e5)),-1!==_.value?(l=Math.floor((e-24*t*60*60*1e3)/36e5),i=Math.floor((e-24*t*60*60*1e3)%36e5/6e4)):(l=0,i=Math.floor((e-24*t*60*60*1e3)/6e4)),-1!==w.value?(i=Math.floor((e-24*t*60*60*1e3-60*l*60*1e3)/6e4),s=Math.floor((e-24*t*60*60*1e3-60*l*60*1e3)%6e4/1e3)):(i=0,s=Math.floor((e-24*t*60*60*1e3-60*l*60*1e3)/1e3)),{day:t<10?"0"+t:""+t,hour:l<10?"0"+l:""+l,minute:i<10?"0"+i:""+i,second:s<10?"0"+s:""+s}})),b=i((()=>{let e="";return e+=parseFloat(p.itemWidth)<=0?"padding-left:24rpx;padding-right:24rpx;":`width:${p.itemWidth};`,e+p.itemBoxStyle})),B=i((()=>{let e="";return p.indicatorWidth&&p.indicatorWidth.length>0&&(e=`width:${p.indicatorWidth};`),e+p.indicatorBoxStyle}));function C(e,t=-1){return-1===t?p.tpl.slice(e+2):p.tpl.slice(e+2,t-1)}return(e,t)=>{const l=x,i=o;return c(),s(i,{class:n(["n-flex-row","n-align-center","n-bg-"+e.bgType,"n-border-"+e.border,"n-radius-"+e.radius,e.boxClass]),style:r(e.boxStyle)},{default:a((()=>[-1!==v.value?(c(),s(i,{key:0,class:n(["n-flex-row","n-justify-center","n-align-center","n-height-"+e.itemHeight,"n-bg-"+e.itemBgType,"n-border-"+e.itemBorder,"n-radius-"+e.itemRadius,e.itemBoxClass]),style:r(b.value)},{default:a((()=>[u(l,{class:n(["n-color-"+e.itemTextType,"n-size-"+e.itemTextSize,e.itemTextClass]),style:r(e.itemTextStyle)},{default:a((()=>[d(m(S.value.day),1)])),_:1},8,["class","style"])])),_:1},8,["class","style"])):y("",!0),-1!==v.value?(c(),s(i,{key:1,class:n(["n-flex-row","n-justify-center","n-align-center",e.indicatorBoxClass]),style:r(B.value)},{default:a((()=>[u(l,{class:n(["n-color-"+e.indicatorTextType,"n-size-"+e.indicatorTextSize,e.indicatorTextClass]),style:r(e.indicatorTextStyle)},{default:a((()=>[d(m(C(v.value,_.value)),1)])),_:1},8,["class","style"])])),_:1},8,["class","style"])):y("",!0),-1!==_.value?(c(),s(i,{key:2,class:n(["n-flex-row","n-justify-center","n-align-center","n-height-"+e.itemHeight,"n-bg-"+e.itemBgType,"n-border-"+e.itemBorder,"n-radius-"+e.itemRadius,e.itemBoxClass]),style:r(b.value)},{default:a((()=>[u(l,{class:n(["n-color-"+e.itemTextType,"n-size-"+e.itemTextSize,e.itemTextClass]),style:r(e.itemTextStyle)},{default:a((()=>[d(m(S.value.hour),1)])),_:1},8,["class","style"])])),_:1},8,["class","style"])):y("",!0),-1!==_.value?(c(),s(i,{key:3,class:n(["n-flex-row","n-justify-center","n-align-center",e.indicatorBoxClass]),style:r(B.value)},{default:a((()=>[u(l,{class:n(["n-color-"+e.indicatorTextType,"n-size-"+e.indicatorTextSize,e.indicatorTextClass]),style:r(e.indicatorTextStyle)},{default:a((()=>[d(m(C(_.value,w.value)),1)])),_:1},8,["class","style"])])),_:1},8,["class","style"])):y("",!0),-1!==w.value?(c(),s(i,{key:4,class:n(["n-flex-row","n-justify-center","n-align-center","n-height-"+e.itemHeight,"n-bg-"+e.itemBgType,"n-border-"+e.itemBorder,"n-radius-"+e.itemRadius,e.itemBoxClass]),style:r(b.value)},{default:a((()=>[u(l,{class:n(["n-color-"+e.itemTextType,"n-size-"+e.itemTextSize,e.itemTextClass]),style:r(e.itemTextStyle)},{default:a((()=>[d(m(S.value.minute),1)])),_:1},8,["class","style"])])),_:1},8,["class","style"])):y("",!0),-1!==w.value&&C(w.value,j.value)?(c(),s(i,{key:5,class:n(["n-flex-row","n-justify-center","n-align-center",e.indicatorBoxClass]),style:r(B.value)},{default:a((()=>[u(l,{class:n(["n-color-"+e.indicatorTextType,"n-size-"+e.indicatorTextSize,e.indicatorTextClass]),style:r(e.indicatorTextStyle)},{default:a((()=>[d(m(C(w.value,j.value)),1)])),_:1},8,["class","style"])])),_:1},8,["class","style"])):y("",!0),-1!==j.value?(c(),s(i,{key:6,class:n(["n-flex-row","n-justify-center","n-align-center","n-height-"+e.itemHeight,"n-bg-"+e.itemBgType,"n-border-"+e.itemBorder,"n-radius-"+e.itemRadius,e.itemBoxClass]),style:r(b.value)},{default:a((()=>[u(l,{class:n(["n-color-"+e.itemTextType,"n-size-"+e.itemTextSize,e.itemTextClass]),style:r(e.itemTextStyle)},{default:a((()=>[d(m(S.value.second),1)])),_:1},8,["class","style"])])),_:1},8,["class","style"])):y("",!0),-1!==j.value&&C(j.value,-1)?(c(),s(i,{key:7,class:n(["n-flex-row","n-justify-center","n-align-center",e.indicatorBoxClass]),style:r(B.value)},{default:a((()=>[u(l,{class:n(["n-color-"+e.indicatorTextType,"n-size-"+e.indicatorTextSize,e.indicatorTextClass]),style:r(e.indicatorTextStyle)},{default:a((()=>[d(m(C(j.value,-1)),1)])),_:1},8,["class","style"])])),_:1},8,["class","style"])):y("",!0)])),_:1},8,["class","style"])}}},S={__name:"countdown",setup(t){const{leftIcons:l,navLeftAction:i}=w();return(t,n)=>{const r=T(f("n-navbar"),e),m=o,y=T(f("n-countdown"),j),g=T(f("n-list-cell"),h),w=x,S=T(f("n-list"),v);return c(),s(m,null,{default:a((()=>[u(r,{lefts:p(l),title:"倒计时",onLeftAction:p(i)},null,8,["lefts","onLeftAction"]),u(S,{down:null,up:null},{default:a((()=>[u(g,null,{default:a((()=>[u(m,{style:{height:"20rpx"}}),u(m,{style:{"flex-direction":"row","align-items":"center","justify-content":"center"}},{default:a((()=>[u(y,{time:new Date("2024-06-07").getTime(),bgType:"error",itemBgType:"none",itemTextType:"inverse",indicatorTextType:"inverse",radius:"base"},null,8,["time"])])),_:1}),u(m,{style:{height:"20rpx"}})])),_:1}),u(g,null,{default:a((()=>[u(m,{style:{"flex-direction":"row","align-items":"center","justify-content":"center"}},{default:a((()=>[u(w,{class:"n-color-text n-size-ll"},{default:a((()=>[d("距离高考只有")])),_:1}),u(y,{time:new Date("2024-06-07").getTime(),tpl:"{d}天"},null,8,["time"])])),_:1}),u(m,{style:{height:"20rpx"}})])),_:1}),u(g,null,{default:a((()=>[u(m,{style:{"flex-direction":"row","align-items":"center","justify-content":"center"}},{default:a((()=>[u(w,{class:"n-color-text n-size-ll"},{default:a((()=>[d("距离高考只有")])),_:1}),u(y,{time:new Date("2024-06-07").getTime(),tpl:"{d}天{h}时"},null,8,["time"])])),_:1}),u(m,{style:{height:"20rpx"}})])),_:1}),u(g,null,{default:a((()=>[u(m,{style:{"flex-direction":"row","align-items":"center","justify-content":"center"}},{default:a((()=>[u(y,{time:new Date("2024-06-07").getTime(),tpl:"{d}天{h}时{m}分"},null,8,["time"])])),_:1}),u(m,{style:{height:"20rpx"}})])),_:1}),u(g,null,{default:a((()=>[u(m,{style:{"flex-direction":"row","align-items":"center","justify-content":"center"}},{default:a((()=>[u(y,{time:new Date("2024-06-07").getTime(),tpl:"{d}天{h}时{m}分{s}秒"},null,8,["time"])])),_:1}),u(_,{top:"36rpx",icon:"top",iconStyle:"font-size:60rpx;",title:"适配能力",desc:"倒计时具备强大的适配能力,具体请看文档",descStyle:"margin-top:24rpx;margin-bottom:60rpx;margin-left:46rpx;margin-right:46rpx;"})])),_:1})])),_:1})])),_:1})}}};export{S as default};
