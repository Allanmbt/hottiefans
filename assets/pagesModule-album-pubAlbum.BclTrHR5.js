import{b as e,o as t,d as n,w as l,e as s,n as a,m as i,H as o,p as r,i as p,f as c,q as u,r as y,c as d,j as g,h as f,t as x,k as S,l as m,F as b,ax as h,ay as C,D as v}from"./index-DyB-GtSf.js";import{_}from"./n-navbar.DgJOiXYI.js";import{r as j}from"./uni-app.es.CYr7Wecl.js";import{_ as w}from"./n-input.DrPme0kB.js";import{_ as k}from"./n-icon.C34IfF9H.js";import{u as B}from"./useNav.y5ABEmWP.js";import"./n-badge.U9JWwHKe.js";import"./props.CkprGx8I.js";import"./system.Bdz65IDa.js";import"./_plugin-vue_export-helper.BCo6x5W8.js";const T={__name:"n-image-cell",props:{src:{type:String,default:""},radius:{type:String,default:"s"},imageStyle:{type:String,default:""},imageClass:{type:String,default:""},icon:{type:String,default:"close"},iconType:{type:String,default:"inverse"},iconSize:{type:String,default:"ss"},iconRadius:{type:String,default:"ll"},iconBorder:{type:String,default:""},iconBgType:{type:String,default:"mask-dark"},iconStyle:{type:String,default:""},iconBoxStyle:{type:String,default:""},boxStyle:{type:String,default:""},iconClass:{type:String,default:""},iconBoxClass:{type:String,default:""},boxClass:{type:String,default:""}},emits:["delete","preview"],setup(c,{emit:u}){const y=u,d=c;function g(e){e&&e.stopPropagation&&e.stopPropagation(),y("delete",d.src)}function f(){y("preview",d.src)}return(u,y)=>{const d=r,x=j(e("n-icon"),k),S=p;return t(),n(S,{class:a(["n-position-relative","n-flex-column","n-justify-end",c.boxClass]),style:i("width:216rpx;height:216rpx;"+c.boxStyle)},{default:l((()=>[s(d,{src:c.src,class:a(["n-radius-"+c.radius,c.imageClass]),style:i("width:200rpx;height:200rpx;"+c.imageStyle),mode:"aspectFill",onClick:f},null,8,["src","class","style"]),s(S,{class:a(["n-position-absolute","n-flex-column","n-justify-center","n-align-center","n-radius-"+c.iconRadius,"n-border-"+c.iconBorder,"n-bg-"+c.iconBgType,"n-right-0","n-top-0","n-wh-36",c.iconBoxClass]),style:i(c.iconBoxStyle),bubble:"true",onClick:o(g,["stop"])},{default:l((()=>[s(x,{name:c.icon,type:c.iconType,size:c.iconSize,iconStyle:c.iconStyle,iconClass:c.iconClass,onIconClicked:g},null,8,["name","type","size","iconStyle","iconClass"])])),_:1},8,["class","style"])])),_:1},8,["class","style"])}}},z={__name:"n-image-add",props:{bgType:{type:String,default:"light"},border:{type:String,default:""},radius:{type:String,default:"s"},icon:{type:String,default:"add"},space:{type:String,default:""},text:{type:String,default:""},iconType:{type:String,default:"third"},iconBoxStyle:{type:String,default:""},iconStyle:{type:String,default:"font-size:80rpx;"},textType:{type:String,default:"third"},textSize:{type:String,default:"ss"},textStyle:{type:String,default:""},boxStyle:{type:String,default:""},iconClass:{type:String,default:""},textClass:{type:String,default:""},boxClass:{type:String,default:""},iconBoxClass:{type:String,default:""}},emits:["add"],setup(o,{emit:r}){const y=r;function d(){y("add")}return(r,y)=>{const g=j(e("n-icon"),k),f=p,x=u;return t(),n(f,{class:a(["n-flex-column","n-align-center","n-justify-center","n-border-"+o.border,"n-radius-"+o.radius,"n-bg-"+o.bgType,o.boxClass]),style:i("height: 200rpx;width: 200rpx;"+o.boxStyle),bubble:"true",onClick:d},{default:l((()=>[s(g,{name:o.icon,type:o.iconType,boxStyle:o.iconBoxStyle,iconStyle:o.iconStyle,iconClass:o.iconClass,boxClass:o.iconBoxClass,onIconClicked:d},null,8,["name","type","boxStyle","iconStyle","iconClass","boxClass"]),o.text&&o.space?(t(),n(f,{key:0,style:i({height:o.space})},null,8,["style"])):c("",!0),o.text?(t(),n(x,{key:1,class:a(["n-color-"+o.textType,"n-size-"+o.textSize,o.textClass]),style:i(o.textStyle)},null,8,["class","style"])):c("",!0)])),_:1},8,["class","style"])}}},A={__name:"pubAlbum",setup(a){const{leftIcons:i,navLeftAction:o}=B(),r=[{text:"发布",textType:"success"}],k=y(""),A=y([]),L=d((()=>k.value.length));function P(e){}function D(){A.value.length>=9||h({count:9-A.value.length,success:e=>{A.value=A.value.concat(e.tempFilePaths)},fail:()=>{}})}function F(e){const t=A.value.indexOf(e);A.value.splice(t,1)}function I(e){v({current:e,urls:A.value})}return(a,y)=>{const d=j(e("n-navbar"),_),h=p,v=u,B=j(e("n-input"),w),R=C,q=j(e("n-image-cell"),T),H=j(e("n-image-add"),z);return t(),n(h,{class:"n-bg-inverse n-full-height"},{default:l((()=>[s(d,{lefts:g(i),title:"发帖",rights:r,onLeftAction:g(o),onRightAction:P},null,8,["lefts","onLeftAction"]),s(h,{class:"n-bg-border",style:{height:"1px"}}),s(B,{value:k.value,"onUpdate:value":y[0]||(y[0]=e=>k.value=e),border:"bottom",maxlength:30,placeholder:"输入标题",boxStyle:"margin-top: 24rpx;margin-left:46rpx;margin-right:46rpx;height:86rpx;"},{extra:l((()=>[s(v,{class:"n-size-s n-color-third",style:{width:"78rpx"}},{default:l((()=>[f(x(L.value)+"/30",1)])),_:1})])),_:1},8,["value"]),s(h,{style:{"margin-left":"46rpx","margin-top":"24rpx"}},{default:l((()=>[s(R,{class:"n-size-s n-color-second n-lh-base",placeholder:"在这里输入内容","placeholder-style":"color:#CCC8C8;",style:{width:"658rpx",height:"300rpx"}})])),_:1}),s(h,{class:"n-flex-row n-align-end n-wrap-wrap",style:{"margin-left":"46rpx","margin-top":"16rpx"}},{default:l((()=>[(t(!0),S(b,null,m(A.value,((e,l)=>(t(),n(q,{key:l,src:e,boxStyle:"margin-right:14rpx;margin-bottom:14rpx;",onDelete:F,onPreview:I},null,8,["src"])))),128)),A.value.length<9?(t(),n(H,{key:0,onAdd:D,boxStyle:"margin-bottom:14rpx;margin-top:16rpx;"})):c("",!0)])),_:1})])),_:1})}}};export{A as default};
