import{_ as t}from"./n-navbar.DgJOiXYI.js";import{r as e,J as n,a2 as s,b as r,o,d as l,w as a,e as i,h as p,t as u,f as c,j as d,i as m,q as f,p as x}from"./index-DyB-GtSf.js";import{r as g}from"./uni-app.es.CYr7Wecl.js";import{_ as v}from"./n-button.C0Lbq8AA.js";import{_ as h}from"./n-list-cell.CFZ1yxA_.js";import{_ as y}from"./n-list.qlhvrMMX.js";import{_}from"./descView.DF7dA0Th.js";import{_ as b}from"./n-progress.CIq8aWCF.js";import{_ as j}from"./n-icon.C34IfF9H.js";import{_ as w}from"./n-popup.DWLeKhpE.js";import{c as S}from"./imgs.wUGTdslH.js";import{u as T}from"./useNav.y5ABEmWP.js";import"./n-badge.U9JWwHKe.js";import"./props.CkprGx8I.js";import"./system.Bdz65IDa.js";import"./n-loading-indicator.BodNpqVl.js";import"./usePager.Bx7XEHLh.js";import"./_plugin-vue_export-helper.BCo6x5W8.js";import"./element.B9OwrRfy.js";const z={__name:"updatePop",props:{show:{type:Boolean,default:!1},title:{type:String,default:"发现新版本"},version:{type:String,default:""},desc:{type:String,default:""},btnText:{type:String,default:"立即更新"}},emits:["start","end","cancel"],setup(t,{emit:h}){const y=t,_=h;let T=null;const z=e(0);function I(){z.value>0||(z.value=.01,_("start"),T&&clearInterval(T),T=setInterval((()=>{z.value+=.05,z.value>=1&&(T&&clearInterval(T),T=null,_("end"))}),50))}function k(){_("cancel")}return n((()=>y.show),(t=>{t&&(z.value=0)})),s((()=>{T&&clearInterval(T)})),(e,n)=>{const s=m,h=f,y=g(r("n-button"),v),_=g(r("n-progress"),b),T=x,B=g(r("n-icon"),j),C=g(r("n-popup"),w);return o(),l(C,{show:t.show,width:"600rpx"},{default:a((()=>[i(s,{class:"n-flex-1 n-flex-column n-justify-center n-align-center"},{default:a((()=>[i(s,{class:"n-position-relative",style:{width:"600rpx"}},{default:a((()=>[i(s,null,{default:a((()=>[i(s,{style:{height:"64rpx"}}),i(s,{class:"n-bg-inverse n-radius-base",style:{width:"600rpx","padding-left":"48rpx","padding-top":"64rpx","padding-bottom":"40rpx","padding-right":"48rpx"}},{default:a((()=>[i(h,{class:"n-size-ll n-lh-ll n-color-text n-weight-7"},{default:a((()=>[p(u(t.title),1)])),_:1}),t.version?(o(),l(h,{key:0,class:"n-size-ss n-color-third n-lh-ss",style:{"margin-top":"16rpx"}},{default:a((()=>[p(u(t.version),1)])),_:1})):c("",!0),i(h,{class:"n-size-base n-color-second n-lh-base",style:{"margin-top":"16rpx"}},{default:a((()=>[p(u(t.desc),1)])),_:1}),i(y,{text:t.btnText,textType:"inverse",bgType:"error",radius:"base",boxStyle:"width:504rpx;height:80rpx;margin-top:40rpx;",onButtonClicked:I},null,8,["text"]),i(_,{progress:z.value,bgType:"inverse",progressBgType:"success",width:"504rpx",boxStyle:"margin-top:24rpx;"},null,8,["progress"])])),_:1})])),_:1}),i(T,{src:d(S).icon.rocket,class:"n-position-absolute",style:{top:"0",right:"40rpx",width:"240rpx",height:"240rpx"},mode:"aspectFill"},null,8,["src"])])),_:1}),i(s,{class:"n-flex-row n-justify-center",style:{"margin-top":"28rpx"}},{default:a((()=>[i(B,{name:"close",type:"inverse",size:"ll",iconStyle:"font-size:42rpx;",onIconClicked:k})])),_:1})])),_:1})])),_:1},8,["show"])}}},I={__name:"update",setup(n){const{leftIcons:s,navLeftAction:p}=T(),u=e(!1),c=e("1. 增加发布长评\n2. 可收藏帖子\n3. 每日首页更新推荐内容\n4. 支持评论点赞"),f=e("立即更新");function x(){f.value="立即更新",u.value=!0}function b(){u.value=!1}function j(){f.value="正在下载"}function w(){f.value="下载完成",setTimeout((()=>{u.value=!1}),300)}return(e,n)=>{const S=g(r("n-navbar"),t),T=g(r("n-button"),v),I=g(r("n-list-cell"),h),k=g(r("n-list"),y),B=m;return o(),l(B,null,{default:a((()=>[i(S,{lefts:d(s),title:"更新弹窗",onLeftAction:d(p)},null,8,["lefts","onLeftAction"]),i(k,{down:null,up:null},{default:a((()=>[i(I,null,{default:a((()=>[i(_,{top:"60rpx",icon:"headphone-dot",iconStyle:"font-size:60rpx;",title:"更新弹窗模版",desc:"常用的样式",descStyle:"margin-top:24rpx;margin-bottom:60rpx;"},{extra:a((()=>[i(T,{bgType:"error",text:"弹出",textType:"inverse",radius:"ll",boxStyle:"width:320rpx;height:72rpx;",onButtonClicked:x})])),_:1}),i(_,{top:"36rpx",icon:"top",iconStyle:"font-size:60rpx;",title:"更多样式",desc:"想到好看的就加",descStyle:"margin-top:24rpx;margin-bottom:60rpx;"})])),_:1})])),_:1}),i(z,{show:u.value,version:"v6.6.6",desc:c.value,btnText:f.value,onCancel:b,onStart:j,onEnd:w},null,8,["show","desc","btnText"])])),_:1})}}};export{I as default};
