import{r as e,b as t,d as n,w as l,i as s,o as a,e as i,j as o,k as r,l as p,F as c,h as u,t as f,f as d,q as m,G as x,H as g,v}from"./index-DyB-GtSf.js";import{_ as y}from"./n-navbar.DgJOiXYI.js";import{o as h,r as k}from"./uni-app.es.CYr7Wecl.js";import{_}from"./n-cell.BlluSwin.js";import{_ as b}from"./n-position.Dmy_Nsnx.js";import{p as j}from"./pagesData.Bk0_LUY4.js";import{u as w}from"./useNav.y5ABEmWP.js";import{u as C}from"./element.B9OwrRfy.js";import"./n-icon.C34IfF9H.js";import"./props.CkprGx8I.js";import"./_plugin-vue_export-helper.BCo6x5W8.js";import"./n-badge.U9JWwHKe.js";import"./system.Bdz65IDa.js";const z={__name:"indexlist",setup(z){const{leftIcons:T,navLeftAction:L}=w(),S=C();let A=null;const q=e([]),D=e([]),P=e(!1),F=e(""),G=e("");function H(e){G.value&&(G.value=null)}function I(e){e&&e.stopPropagation&&e.stopPropagation()}return h((()=>{!function(){const e=[],t=[];for(const n in j){const l=j[n];e.push({name:l.name,key:l.key,page:l.page,desc:l.desc,type:"title",icon:l.icon}),t.push({name:l.name,key:l.key});const s=l.items;for(const t in s){const l=s[t];e.push({name:l.name,key:"c_"+n+"_"+t,page:l.page,desc:l.desc,type:"cell",icon:l.icon})}}D.value=t,q.value=e}()})),(e,h)=>{const j=k(t("n-navbar"),y),w=m,C=s,z=k(t("n-cell"),_),K=x,M=k(t("n-position"),b);return a(),n(C,{class:"n-position-relative n-full-height"},{default:l((()=>[i(j,{lefts:o(T),title:"索引列表",onLeftAction:o(L)},null,8,["lefts","onLeftAction"]),i(K,{"scroll-y":!0,"scroll-with-animation":!0,"scroll-into-view":G.value,class:"n-flex-1 n-bg-page",style:{height:"100rpx"},onScroll:H},{default:l((()=>[(a(!0),r(c,null,p(q.value,((e,t)=>(a(),n(C,{key:t},{default:l((()=>["title"===e.type?(a(),n(C,{key:0,ref_for:!0,ref:t=>o(S).set(t,e.key),id:e.key},{default:l((()=>[i(w,{class:"n-color-third n-size-base",style:{"line-height":"80rpx","margin-left":"36rpx"}},{default:l((()=>[u(f(e.name),1)])),_:2},1024)])),_:2},1032,["id"])):(a(),n(C,{key:1},{default:l((()=>[i(z,{icon:e.icon,title:e.name,titleType:"text",titleSize:"ll",bgType:"inverse",height:"ll",border:"none",radius:"none",indicator:"arrow-right-bold",indicatorType:"third",boxStyle:"padding-left:36rpx;padding-right:36rpx;",onCellClicked:t=>{return n=e.page,void v({url:n});var n}},null,8,["icon","title","onCellClicked"])])),_:2},1024))])),_:2},1024)))),128))])),_:1},8,["scroll-into-view"]),i(M,{fixed:!0,pos:"top",offset:"status-nav-60rpx",boxStyle:"right: 12rpx;bottom: 60rpx;width:92rpx;"},{default:l((()=>[i(C,{class:"n-flex-column n-align-center n-justify-center n-flex-1 n-bg-mask-dark n-radius-ll",style:{width:"92rpx"},bubble:"true",onClick:I},{default:l((()=>[(a(!0),r(c,null,p(D.value,((e,t)=>(a(),n(w,{key:t,title:e.name,onClick:g((t=>{return n=e.key,l=e.name,G.value=n,F.value=l,P.value=!0,A&&clearTimeout(A),void(A=setTimeout((()=>{P.value=!1}),600));var n,l}),["stop"]),class:"n-size-ss n-color-inverse",style:{"text-align":"center","font-size":"24rpx","line-height":"80rpx"}},{default:l((()=>[u(f(e.name),1)])),_:2},1032,["title","onClick"])))),128))])),_:1})])),_:1}),P.value?(a(),n(C,{key:0,class:"n-position-fixed n-flex-row n-align-center n-justify-center n-bg-mask-dark",style:{top:"500rpx",left:"290rpx",width:"120rpx",height:"120rpx","border-radius":"100rpx"}},{default:l((()=>[i(w,{class:"n-size-l n-color-inverse n-text-align-center"},{default:l((()=>[u(f(F.value),1)])),_:1})])),_:1})):d("",!0)])),_:1})}}};export{z as default};
