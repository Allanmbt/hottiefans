import{_ as e}from"./n-icon.C34IfF9H.js";import{r as a,c as l,J as t,b as o,d as s,w as n,n as i,m as c,i as r,o as u,f as p,N as d,e as y,P as b,h as f,t as v,q as h}from"./index-DyB-GtSf.js";import{r as m}from"./uni-app.es.CYr7Wecl.js";import{m as g}from"./props.CkprGx8I.js";const x={__name:"n-input",props:g([["format",[]],["separator"," "],["type","text"],["maxlength",140],["isPassword",!1],["password",!1],["focus",!1],["disabled",!1],"icon","label","value",["placeholder","请输入内容"],"indicator",["valueAlign","left"],"bgType",["height","base"],"border","radius",["valueType","text"],["valueSize","base"],["iconType","text"],["iconSize","l"],["labelType","text"],["labelSize","base"],["indicatorType","text"],["indicatorSize","l"],["placeType","place"],["placeSize","base"],["adjust",!0],["cursorSpacing",0],["confirmType","done"],"contentType","iconStyle","iconBoxStyle","labelStyle","valueStyle","indicatorStyle","indicatorBoxStyle","boxStyle",["space","12rpx"],["placeStyle","white-space:nowrap;"],"iconClass","iconBoxClass","labelClass","valueClass","indicatorClass","indicatorBoxClass","boxClass","placeClass"]),emits:["keyboardHeightChange","update:value","formated","confirm","indicatorClicked","inputClicked","focus","blur"],setup(g,{expose:x,emit:S}){const C=g,z=S;x({nFocus:function(){},nBlur:function(){}});const T=a(C.value||""),k=a(C.value||"");a(null),a(null);const j=l((()=>C.separator&&C.separator.length>0&&C.format&&C.format.length>0));function w(e){z("focus",e)}function B(e){z("blur",e)}function _(e){z("keyboardHeightChange",e)}function I(e){const a=e.detail.value||"";j.value?(T.value=H(a),k.value=T.value.split(C.separator).join(""),z("update:value",k.value),z("formated",T.value)):(T.value=e.detail.value,z("update:value",e.detail.value))}function q(e){z("confirm",e.detail.value)}function A(){z("indicatorClicked")}function F(){C.disabled&&z("inputClicked")}function H(e){let a=e;if(j.value){const l=e.split(C.separator).join(""),t=l.length;C.format.length;let o=0;const s=[];for(const e in C.format){const a=C.format[e];if(!(t>o+a)){s.push(l.substr(o));break}s.push(l.substr(o,a)),o+=a}a=s.join(C.separator),a.length>C.maxlength&&(a=l)}return a}return l((()=>{if(!T.value)return!0;const e=T.value+"";return!(e&&e.length>0)})),j.value&&(T.value=H(C.value)),t((()=>C.value),(e=>{j.value?k.value!==e&&(k.value=e,T.value=H(e)):T.value!==e&&(T.value=e)})),(a,l)=>{const t=m(o("n-icon"),e),g=h,x=b,S=r;return u(),s(S,{class:i(["n-flex-row","n-align-center","n-wrap-nowrap","n-bg-"+a.bgType,"n-height-"+a.height,"n-radius-"+a.radius,"n-border-"+a.border,a.boxClass]),style:c(a.boxStyle),bubble:"true",onClick:F},{default:n((()=>[a.icon&&a.icon.length>0?(u(),s(t,{key:0,name:a.icon,type:a.iconType,size:a.iconSize,iconStyle:a.iconStyle,boxStyle:"margin-right:"+a.space+";"+a.iconBoxStyle,iconClass:a.iconClass,boxClass:a.iconBoxClass,onIconClicked:F},null,8,["name","type","size","iconStyle","boxStyle","iconClass","boxClass"])):p("",!0),d(a.$slots,"label",{},(()=>[a.label&&a.label.length>0?(u(),s(g,{key:0,class:i(["n-color-"+a.labelType,"n-size-"+a.labelSize,a.labelClass]),style:c("margin-right:"+a.space+";"+a.labelStyle)},{default:n((()=>[f(v(a.label||""),1)])),_:1},8,["class","style"])):p("",!0)])),y(x,{class:i(["n-flex-1","n-text-align-"+a.valueAlign,"n-color-"+a.valueType,"n-size-"+a.valueSize,a.valueClass]),disabled:a.disabled,focus:a.focus,type:a.type,"cursor-spacing":a.cursorSpacing,"adjust-position":a.adjust,"confirm-type":a.confirmType,maxlength:a.maxlength,value:T.value||"",password:a.password,placeholder:a.placeholder||"","placeholder-style":a.placeStyle,"placeholder-class":a.placeClass||"n-color-"+a.placeType,style:c(a.valueStyle),onInput:I,onConfirm:q,onFocus:w,onBlur:B,onKeyboardheightchange:_},null,8,["class","disabled","focus","type","cursor-spacing","adjust-position","confirm-type","maxlength","value","password","placeholder","placeholder-style","placeholder-class","style"]),d(a.$slots,"extra"),a.indicator&&a.indicator.length>0?(u(),s(t,{key:1,name:a.indicator,type:a.indicatorType,size:a.indicatorSize,iconStyle:a.indicatorStyle,boxStyle:"margin-left:"+a.space+";"+a.indicatorBoxStyle,onIconClicked:A},null,8,["name","type","size","iconStyle","boxStyle"])):p("",!0)])),_:3},8,["class","style"])}}};export{x as _};
