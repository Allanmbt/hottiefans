import{_ as t}from"./n-navbar.DgJOiXYI.js";import{r as e,c as r,J as o,d as a,w as l,n as i,m as n,i as s,o as u,N as f,e as p,b as d,j as g,h as m,k as c,l as h,F as x,q as y}from"./index-DyB-GtSf.js";import{r as v}from"./uni-app.es.CYr7Wecl.js";import{b}from"./system.Bdz65IDa.js";import{m as w}from"./props.CkprGx8I.js";import{_ as $}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_}from"./n-button.C0Lbq8AA.js";import{_ as T}from"./n-list-cell.CFZ1yxA_.js";import{_ as j}from"./n-list.qlhvrMMX.js";import{u as C}from"./useNav.y5ABEmWP.js";import"./n-icon.C34IfF9H.js";import"./n-badge.U9JWwHKe.js";import"./n-loading-indicator.BodNpqVl.js";import"./usePager.Bx7XEHLh.js";import"./element.B9OwrRfy.js";const k=$({__name:"n-progress-circle",props:w([["progress",0],["width","80rpx"],["borderWidth","6rpx"],["borderColor","#8F9CFF"],["bgType","inverse"],"boxStyle","boxClass",["fromZero",!1],["aniToZero",!0],["duration",2e3],["timingFunction","ease-out"],["twoWay",!1]]),setup(t){const d=t,g=e(0),m=e(0),c=e(""),h=e(""),x=e(""),y=e(""),v=e(null),w=e(null),$=r((()=>`width:${g.value}px;height:${g.value}px;border-radius:${g.value}px;`+d.boxStyle)),_=r((()=>`width:${g.value}px;height:${g.value}px;border-radius:${g.value}px;border-width:${d.borderWidth};border-left-color:${d.borderColor};border-bottom-color:${d.borderColor};`)),T=r((()=>`width:${g.value}px;height:${g.value}px;border-radius:${g.value}px;border-width:${d.borderWidth};border-left-color:${d.borderColor};border-bottom-color:${d.borderColor};`)),j=b(d.width);function C(t,e){const r=m.value;m.value=t,d.twoWay?d.fromZero?function(t,e,r){let o=0;if(d.aniToZero){const t=F(e,d.duration);o=t.left>t.right?t.left:t.right}h.value=`transition-duration: ${o}ms; transform: rotate(45deg);`,c.value=`transition-duration: ${o}ms; transform: rotate(225deg);`,setTimeout((()=>{t>.5?(x.value="opacity: 1;",y.value="opacity:1;"):(x.value="opacity:0;",y.value=t<=0?"opacity:0;":"opacity:1;");const e=Z(t,r),o=e.left>e.right?e.left:e.right,a=k(t);h.value=`transition-duration: ${o}ms; transform: rotate(${a.right}deg);`,c.value=`transition-duration: ${o}ms; transform: rotate(${a.left}deg);`}),o)}(t,r,e):function(t,e,r){let o=r;const a=k(t);if(!r){const a=Z(t,r),l=F(e,d.duration);o=Math.max(Math.abs(a.left-l.left),Math.abs(a.right-l.right))}e>.5||(t>.5&&(x.value="opacity:1;"),t>0&&(y.value="opacity:1;"));h.value=`transition-duration: ${o}ms; transform: rotate(${a.right}deg);`,c.value=`transition-duration: ${o}ms; transform: rotate(${a.left}deg);`,setTimeout((()=>{t<=.5&&(x.value="opacity:0;"),t<=0&&(y.value="opacity:0;")}),o)}(t,r,e):d.fromZero?function(t,e,r){let o=0,a=0;if(d.aniToZero){const t=F(e,d.duration);o=t.left,a=t.right}const l=Z(t,r),i=k(t);c.value=`transition-duration: ${o}ms; transform: rotate(225deg);`,setTimeout((()=>{x.value="opacity:0;",h.value=`transition-duration: ${a}ms; transform: rotate(45deg);`}),o),setTimeout((()=>{y.value=t<=0?"opacity:0;":"opacity:1;",h.value=`transition-duration: ${l.right}ms; transform: rotate(${i.right}deg);`}),o+a),setTimeout((()=>{x.value=t>.5?"opacity:1;":"opacity:0;",c.value=`transition-duration: ${l.left}ms; transform: rotate(${i.left}deg);`}),o+a+l.right)}(t,r,e):function(t,e,r){const o=Z(t,r),a=k(t);t>0&&(y.value="opacity:1;");if(r)t>=e?(h.value=`transition-duration: ${o.right}ms; transform: rotate(${a.right}deg);`,setTimeout((()=>{t<=0&&(y.value="opacity:0;"),t>.5&&e<=.5&&(x.value="opacity:1;"),c.value=`transition-duration: ${o.left}ms; transform: rotate(${a.left}deg);`}),o.right)):(c.value=`transition-duration: ${o.left}ms; transform: rotate(${a.left}deg);`,setTimeout((()=>{t<.5&&(x.value="opacity:0;"),h.value=`transition-duration: ${o.right}ms; transform: rotate(${a.right}deg);`}),o.left),setTimeout((()=>{t<=0&&(y.value="opacity:0;")}),o.left+o.right));else{const r=F(e,d.duration);t>=e?(h.value=`transition-duration: ${o.right-r.right}ms; transform: rotate(${a.right}deg);`,setTimeout((()=>{t<=0&&(y.value="opacity:0;"),t>.5&&e<=.5&&(x.value="opacity:1;"),c.value=`transition-duration: ${o.left-r.left}ms; transform: rotate(${a.left}deg);`}),o.right-r.right)):(c.value=`transition-duration: ${r.left-o.left}ms; transform: rotate(${a.left}deg);`,setTimeout((()=>{t<.5&&(x.value="opacity:0;"),h.value=`transition-duration: ${r.right-o.right}ms; transform: rotate(${a.right}deg);`}),r.left-o.left),setTimeout((()=>{t<=0&&(y.value="opacity:0;")}),r.left-o.left+r.right-o.right))}}(t,r,e)}function k(t){let e=45,r=225;return t>.5?(e=225,r+=360*(t-.5)):e+=360*t,{right:e,left:r}}function Z(t,e){return d.twoWay?e?{left:e,right:e}:t>=.5?{left:d.duration*(t-.5),right:.5*d.duration}:{left:0,right:d.duration*t}:e?t>.5?{left:parseInt(e*(t-.5)/t),right:parseInt(.5*e/t)}:{left:0,right:e}:t>.5?{left:d.duration*(t-.5),right:.5*d.duration}:{left:0,right:d.duration*t}}function F(t,e){return t>.5?{left:e*(t-.5),right:.5*e}:{left:0,right:e*t}}return g.value=2*parseInt(j/2),setTimeout((()=>{C(d.progress)}),0),o((()=>d.progress),((t,e)=>{(d.fromZero||t!==e)&&C(t)})),(t,e)=>{const r=s;return u(),a(r,{class:i(["n-cp","n-flex-column","n-align-center","n-justify-center","n-bg-"+t.bgType,t.boxClass]),style:n($.value)},{default:l((()=>[f(t.$slots,"default",{},void 0,!0),p(r,{class:"n-cp-right",style:n({width:g.value/2+"px",height:g.value+"px"})},{default:l((()=>[p(r,{ref_key:"nright",ref:v,class:"n-cp-right-rotate",style:n(_.value+h.value+y.value)},null,8,["style"])])),_:1},8,["style"]),p(r,{class:"n-cp-left",style:n({width:g.value/2+"px",height:g.value+"px"})},{default:l((()=>[p(r,{ref_key:"nleft",ref:w,class:"n-cp-left-rotate",style:n(T.value+c.value+x.value)},null,8,["style"])])),_:1},8,["style"]),f(t.$slots,"extra",{},void 0,!0)])),_:3},8,["class","style"])}}},[["__scopeId","data-v-e0ed5c79"]]),Z="width:80px;height:80px;border-radius:80px;border-width:6px;border-color:#EEEEEE;justify-content:center;align-items:center;",F={__name:"progress-circle",setup(r){const{leftIcons:o,navLeftAction:i}=C(),f=e([0,.3,.5,.6,.8,1]),b=e(.4),w=e(.6),$=e(.4),F=e(.6);function W(t,e){switch(t){case 1:b.value=e;break;case 2:w.value=e;break;case 3:$.value=e;break;case 4:F.value=e}}return(e,r)=>{const C=v(d("n-navbar"),t),B=s,E=y,S=v(d("n-progress-circle"),k),z=v(d("n-button"),_),I=v(d("n-list-cell"),T),A=v(d("n-list"),j);return u(),a(B,null,{default:l((()=>[p(C,{lefts:g(o),title:"环形进度条",onLeftAction:g(i)},null,8,["lefts","onLeftAction"]),p(A,{down:null,up:null,bgType:"page"},{default:l((()=>[p(I,null,{default:l((()=>[p(B,{style:{height:"32rpx"}}),p(E,{style:{"margin-left":"60rpx",color:"#999999","font-size":"28rpx","line-height":"60rpx"}},{default:l((()=>[m("twoWay:false - fromZero:false")])),_:1}),p(B,{style:{"flex-direction":"row","align-items":"center","margin-left":"60rpx"}},{default:l((()=>[p(S,{progress:b.value},null,8,["progress"]),p(B,{style:{"margin-left":"32rpx",flex:"1","flex-direction":"row","flex-wrap":"wrap"}},{default:l((()=>[(u(!0),c(x,null,h(f.value,((t,e)=>(u(),a(z,{key:e,bgType:"inverse",text:t+"",textType:"third",boxStyle:"width:80rpx;height:60rpx;margin-right:20rpx;margin-top:10rpx;margin-bottom:10rpx;",onButtonClicked:e=>W(1,t)},null,8,["text","onButtonClicked"])))),128))])),_:1})])),_:1}),p(B,{style:{height:"60rpx"}})])),_:1}),p(I,null,{default:l((()=>[p(E,{style:{"margin-left":"60rpx",color:"#999999","font-size":"28rpx","line-height":"60rpx"}},{default:l((()=>[m("twoWay:false - fromZero:true")])),_:1}),p(B,{style:{"flex-direction":"row","align-items":"center","margin-left":"60rpx"}},{default:l((()=>[p(S,{progress:w.value,fromZero:!0,borderColor:"#8FDAFF"},null,8,["progress"]),p(B,{style:{"margin-left":"32rpx",flex:"1","flex-direction":"row","flex-wrap":"wrap"}},{default:l((()=>[(u(!0),c(x,null,h(f.value,((t,e)=>(u(),a(z,{key:e,bgType:"inverse",text:t+"",textType:"third",boxStyle:"width:80rpx;height:60rpx;margin-right:20rpx;margin-top:10rpx;margin-bottom:10rpx;",onButtonClicked:e=>W(2,t)},null,8,["text","onButtonClicked"])))),128))])),_:1})])),_:1}),p(B,{style:{height:"60rpx"}})])),_:1}),p(I,null,{default:l((()=>[p(E,{style:{"margin-left":"60rpx",color:"#999999","font-size":"28rpx","line-height":"60rpx"}},{default:l((()=>[m("twoWay:true - fromZero:false")])),_:1}),p(B,{style:{"flex-direction":"row","align-items":"center","margin-left":"60rpx"}},{default:l((()=>[p(S,{progress:$.value,twoWay:!0,borderColor:"#FFD666"},null,8,["progress"]),p(B,{style:{"margin-left":"32rpx",flex:"1","flex-direction":"row","flex-wrap":"wrap"}},{default:l((()=>[(u(!0),c(x,null,h(f.value,((t,e)=>(u(),a(z,{key:e,bgType:"inverse",text:t+"",textType:"third",boxStyle:"width:80rpx;height:60rpx;margin-right:20rpx;margin-top:10rpx;margin-bottom:10rpx;",onButtonClicked:e=>W(3,t)},null,8,["text","onButtonClicked"])))),128))])),_:1})])),_:1}),p(B,{style:{height:"60rpx"}})])),_:1}),p(I,null,{default:l((()=>[p(E,{style:{"margin-left":"60rpx",color:"#999999","font-size":"28rpx","line-height":"60rpx"}},{default:l((()=>[m("twoWay:true - fromZero:true")])),_:1}),p(B,{style:{"flex-direction":"row","align-items":"center","margin-left":"60rpx"}},{default:l((()=>[p(S,{progress:F.value,fromZero:!0,twoWay:!0,borderColor:"#FF9090"},null,8,["progress"]),p(B,{style:{"margin-left":"32rpx",flex:"1","flex-direction":"row","flex-wrap":"wrap"}},{default:l((()=>[(u(!0),c(x,null,h(f.value,((t,e)=>(u(),a(z,{key:e,bgType:"inverse",text:t+"",textType:"third",boxStyle:"width:80rpx;height:60rpx;margin-right:20rpx;margin-top:10rpx;margin-bottom:10rpx;",onButtonClicked:e=>W(4,t)},null,8,["text","onButtonClicked"])))),128))])),_:1})])),_:1}),p(B,{style:{height:"60rpx"}})])),_:1}),p(I,null,{default:l((()=>[p(B,{style:{"flex-direction":"row","align-items":"center","justify-content":"center","flex-wrap":"nowrap"}},{default:l((()=>[p(S,{progress:.75,width:"80px"},{default:l((()=>[p(B,{style:Z})])),_:1}),p(B,{style:{"margin-left":"32rpx","transition-property":"transform",transform:"rotate(225deg)"}},{default:l((()=>[p(S,{progress:.75,width:"80px"},{default:l((()=>[p(B,{style:Z})])),_:1})])),_:1}),p(B,{style:{"margin-left":"32rpx","transition-property":"transform",transform:"rotate(-135deg)"}},{default:l((()=>[p(S,{progress:.75,width:"80px"},{default:l((()=>[p(B,{style:n(Z+"transition-property: transform;transform: rotate(135deg);")},{default:l((()=>[p(E,{style:{"font-size":"28rpx",color:"#333333"}},{default:l((()=>[m("75%")])),_:1})])),_:1},8,["style"])])),_:1})])),_:1})])),_:1}),p(B,{style:{height:"60rpx"}})])),_:1})])),_:1})])),_:1})}}};export{F as default};
