import{_ as a}from"./n-navbar.DgJOiXYI.js";import{r as e,c as l,J as t,a2 as n,d as s,w as r,n as u,m as o,i,o as A,e as f,N as v,f as c,b as h,j as m,p as x}from"./index-DyB-GtSf.js";import{r as p}from"./uni-app.es.CYr7Wecl.js";import{c as d,b as g}from"./system.Bdz65IDa.js";import{a as y}from"./element.B9OwrRfy.js";import{m as b}from"./props.CkprGx8I.js";import{_ as S}from"./n-button.C0Lbq8AA.js";import{u as w}from"./useNav.y5ABEmWP.js";import"./n-icon.C34IfF9H.js";import"./_plugin-vue_export-helper.BCo6x5W8.js";import"./n-badge.U9JWwHKe.js";import"./n-loading-indicator.BodNpqVl.js";const Q={__name:"n-slider-bar",props:b([["value",0],["value2",0],["min",0],["max",10],["range",!1],["width",520],["height",4],["align","center"],["duration",20],["lastAdjust",20],["bgType","middle"],["activeBgType","primary"],"boxStyle","barStyle","activeBarStyle","indicatorStyle","indicator2Style","boxClass","barClass","activeBarClass","indicatorClass","indicator2Class"]),emits:["change","change1","change2"],setup(a,{emit:h}){const m=a,x=h;let p=null,b=0,S=null,w=null;d();const Q=e(0),j=e(10),M=e(!1);e(""),e("");const _=e(0),k=e(0),T=e(""),C=e(""),D=e(""),B=e(null),$=e(null),J=e(null),R=l((()=>g(m.width)));function E(a){M.value||(b=Date.now(),M.value=!0,S=y(a))}function I(a){M.value||(b=Date.now(),M.value=!0,w=y(a))}function L(a){const e=y(a).x-S.x;T.value=`transform:translateX(${Math.min(R.value,Math.max(_.value+e,0))}px);`;let l=`width:${m.range?k.value-Math.min(R.value,Math.max(e+_.value,0)):Math.min(R.value,Math.max(e+_.value,0))}px;`;m.range&&(l+=`transform:translateX(${Math.min(R.value,Math.max(e+_.value,0))}px);`),D.value=l;const t=Date.now();m.min,m.max,m.min,_.value,R.value,t-b>=m.duration&&(b=Date.now(),V(1,_.value+e))}function U(a){const e=y(a).x-w.x;C.value=`transform:translateX(${Math.min(R.value,Math.max(e+k.value,0))}px);`,D.value=D.value+`width:${Math.min(R.value,Math.max(e+k.value,0))-_.value}px;`;const l=Date.now();m.min,m.max,m.min,k.value,R.value,l-b>=m.duration&&(b=Date.now(),V(2,k.value+e))}function X(a){const e=y(a).x-S.x;M.value=!1,_.value=Math.min(R.value,Math.max(e+_.value,0)),V(1,_.value,!0)}function F(a){M.value=!1;const e=y(a).x-w.x;k.value=Math.min(R.value,Math.max(e+k.value,0)),V(2,k.value,!0)}function N(a){X(a)}function P(a){F(a)}function V(a,e,l){let t=m.min+(m.max-m.min)*e/R.value;if(t=t<=m.min?m.min:t>=m.max?m.max:Math.round(t),l&&m.lastAdjust&&(1==a?Q.value=t:j.value=t,Y()),l&&m.lastAdjust||!l){if(m.range)return void x("change"+a,t);x("change",t)}}function Y(){const a=R.value*(Q.value-m.min)/(m.max-m.min);let e=0;m.range&&(e=R.value*(j.value-m.min)/(m.max-m.min)),_.value=a,k.value=e,D.value=`width:${m.range?e-a:a}px;transform:translateX(${m.range?a:0}px);`,T.value=`transform:translateX(${a}px);`,C.value=`transform:translateX(${e}px);`}return t((()=>m.value),(a=>{M.value||a!=Q.value&&(Q.value=a,p&&clearTimeout(p),p=null,Y())})),t((()=>m.value2),(a=>{M.value||a!=j.value&&(j.value=a,p&&clearTimeout(p),p=null,Y())})),Q.value=m.value,j.value=m.value2,M.value=!1,Y(),n((()=>{p&&clearTimeout(p)})),(a,e)=>{const l=i;return A(),s(l,{class:u(["n-flex-row","n-align-"+a.align,"n-justify-center","n-overflow-hidden","n-position-relative",a.boxClass]),style:o(a.boxStyle)},{default:r((()=>[f(l,{class:u(["n-bg-"+a.bgType,a.barClass]),style:o("width:"+a.width+"rpx;height:"+a.height+"rpx;"+a.barStyle)},{default:r((()=>[f(l,{ref_key:"nbar",ref:B,class:u(["n-bg-"+a.activeBgType,a.activeBarClass]),style:o("height:"+a.height+"rpx;"+a.activeBarStyle+D.value)},null,8,["class","style"])])),_:1},8,["class","style"]),f(l,{ref_key:"nbar1",ref:$,class:u(["n-position-absolute","n-left-0","n-top-0",a.indicatorClass]),style:o(a.indicatorStyle+T.value),onTouchstart:E,onTouchmove:L,onTouchend:X,onTouchcancel:N},{default:r((()=>[v(a.$slots,"default",{},(()=>[f(l,{class:"n-bg-inverse n-border-all",style:{width:"54rpx",height:"54rpx","border-radius":"54rpx"}})]))])),_:3},8,["class","style"]),a.range?(A(),s(l,{key:0,ref_key:"nbar2",ref:J,class:u(["n-position-absolute","n-left-0","n-top-0",a.indicator2Class]),style:o(a.indicator2Style+C.value),onTouchstart:I,onTouchmove:U,onTouchend:F,onTouchcancel:P},{default:r((()=>[v(a.$slots,"other",{},(()=>[f(l,{class:"n-bg-inverse n-border-all",style:{width:"54rpx",height:"54rpx","border-radius":"54rpx"}})]))])),_:3},8,["class","style"])):c("",!0)])),_:3},8,["class","style"])}}},j={__name:"slider-bar",setup(l){const{leftIcons:t,navLeftAction:n}=w(),u=e(8);function o(a){console.log(a)}function v(a){console.log(a)}function c(a){console.log(a)}function d(a){u.value=a}return(e,l)=>{const g=p(h("n-navbar"),a),y=i,b=p(h("n-slider-bar"),Q),w=x,j=p(h("n-button"),S);return A(),s(y,{class:"n-bg-inverse"},{default:r((()=>[f(g,{lefts:m(t),title:"区间选择",onLeftAction:m(n)},null,8,["lefts","onLeftAction"]),f(y,{style:{height:"60rpx"}}),f(y,{class:"n-flex-row n-justify-center"},{default:r((()=>[f(b,{value:4,boxStyle:"height:54rpx;width:574rpx;",onChange:o})])),_:1}),f(y,{style:{height:"60rpx"}}),f(y,{class:"n-flex-row n-justify-center"},{default:r((()=>[f(b,{value:2,value2:6,range:!0,boxStyle:"height:54rpx;width:574rpx;",onChange1:v,onChange2:c})])),_:1}),f(y,{style:{height:"60rpx"}}),f(y,{class:"n-flex-row n-justify-center"},{default:r((()=>[f(b,{value:u.value,align:"end",boxStyle:"height:80rpx;width:588rpx;",onChange:d},{default:r((()=>[f(w,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAPFBMVEUAAAAAj/8Aj/8AkP8Akf8Akf8Akf8Akf8Ajf8Akf8Akf8Akf8Akv8Akf8Akv8Akv8Aj/8AkP8Ajv8Akf8VxvEjAAAAE3RSTlMAQIBL8MaQYBfj18y/srFSMC4Jw+JnJQAAAQlJREFUeNrt2kkKwzAUBNEfxVPmQfe/a8gi9Da4DY2h+gL1JG1Vf+zRrn3Fru1RW+x46at3Ofr9W7d2s8/fzZl3sAwuYFgswNTtTRZg9AGj03/3DfY2AIctAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIA9A55bAJ5lbPD7Qzm7+4C7BWg+oFX2Y/G487/l9iO0stdSfQlSfQlSfQlSfQlSfQlSfQlSfQlSfQlSfQlSfQlSfQlSfQlSfQlSfQlSfQlSfQlSfQlSfQlSfQlSfQlSfQlSfQlSfQmSfQnUD2w+//LnuSJbptM3f5qWiu01z69i+94HZ7QrR7xllE0AAAAASUVORK5CYII=",style:{width:"68rpx",height:"68rpx"}})])),_:1},8,["value"])])),_:1}),f(y,{class:"n-flex-row n-justify-center",style:{"margin-top":"32rpx"}},{default:r((()=>[f(j,{text:u.value+"",textType:"inverse",bgType:"error",radius:"ll",boxStyle:"width:360rpx;height:76rpx;"},null,8,["text"])])),_:1})])),_:1})}}};export{j as default};
