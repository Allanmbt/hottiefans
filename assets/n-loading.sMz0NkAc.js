import{r as e,c as a,a2 as s,d as l,w as t,n,H as o,m as i,f as u,i as v,o as r,e as c,h as p,t as m,p as d,q as x}from"./index-DyB-GtSf.js";import{g as y}from"./system.Bdz65IDa.js";import{m as g}from"./props.CkprGx8I.js";const f={__name:"n-loading",props:g(["maskStyle","boxStyle",["baseHeight","window"],["baseWidth","750rpx"],["width","200rpx"],["height","200rpx"],["radius","loading"],"maskClass","boxClass","imgClass","textClass"]),emits:["maskClicked"],setup(g,{expose:f,emit:h}){let k=null;const b=g,C=h,S=e(!1),w=e("center"),T=e("0"),$=e(!1),_=e(""),j=e(""),z=e(""),H=e(""),M=e(""),P=e(""),W=e(""),X=e(""),q=e(""),F=e(""),K=e(10),O=a((()=>y(b.baseHeight))),A=a((()=>y(b.baseWidth))),B=a((()=>y(T.value))),D=a((()=>{let e=`left:${.5*A.value}px;`;return b.width&&(e+=`width:${b.width};`),b.height&&(e+=`height:${b.height};`),"center"===w.value?(e+="transform:translate(-50%,-50%);",e+=`top:${.5*O.value+B.value}px;`):"bottom"===w.value?(e+="transform:translateX(-50%);",e+=`bottom:${B.value}px;`):(e+="transform:translateX(-50%);",e+=`top:${B.value}px;`),F.value+e}));function E(e){e.stopPropagation&&e.stopPropagation(),$.value&&C("maskClicked",{})}return f({show:function(e){k&&clearTimeout(k);const a=Object.assign({},e);w.value=a.pos||"center",T.value=a.offset||"0px",$.value="boolean"==typeof a.needMask&&a.needMask,_.value=a.maskType||"mask",j.value=a.maskStyle||"",z.value=a.bgType||"mask-dark",H.value=a.icon||"/static/ui/loading.gif",M.value=a.text||"",W.value=a.textType||"inverse",X.value=a.textSize||"ss",q.value=a.textStyle||"",P.value=a.iconStyle||"",F.value=a.contentStyle||"",K.value=a.delay||0,0===K.value?S.value=!0:k=setTimeout((()=>{S.value=!0}),K.value)},hide:function(){S.value=!1}}),s((()=>{k&&clearTimeout(k)})),(e,a)=>{const s=d,y=x,g=v;return S.value?(r(),l(g,{key:0,class:n([$.value?"n-position-fixed":"n-position-relative",$.value&&"n-position-0",$.value&&"n-bg-"+_.value,$.value&&"n-zindex-loading-overlay",e.maskClass]),onClick:o(E,["stop"]),style:i(e.maskStyle+j.value)},{default:t((()=>[c(g,{class:n(["n-flex-column","n-align-center","n-justify-center","n-position-fixed","n-zindex-loading","n-bg-"+z.value,"n-radius-"+e.radius,e.boxClass]),style:i(e.boxStyle+D.value)},{default:t((()=>[c(s,{src:H.value,mode:"aspectFill",class:n([e.imgClass||"n-loading-img"]),style:i(P.value)},null,8,["src","class","style"]),M.value?(r(),l(y,{key:0,class:n(["n-lines-1","n-color-"+W.value,"n-size-"+X.value,e.textClass||"n-loading-text"]),style:i(q.value)},{default:t((()=>[p(m(M.value),1)])),_:1},8,["class","style"])):u("",!0)])),_:1},8,["class","style"])])),_:1},8,["class","style"])):u("",!0)}}};export{f as _};
