import{_ as e}from"./n-tag.gyNX6JFe.js";import{r as t,c as l,J as a,b as s,d,w as c,n as x,m as i,i as o,o as y,k as g,l as r,F as u,f as b,e as T}from"./index-DyB-GtSf.js";import{r as n}from"./uni-app.es.CYr7Wecl.js";import{a as p}from"./n-icon.C34IfF9H.js";import{m as S}from"./props.CkprGx8I.js";const C={__name:"n-tag-group",props:S([["items",[]],["value",[]],["limits",0],["leastOne",!1],["column",0],["rowSpace","16rpx"],["columnSpace","16rpx"],["disabled",!1],"textLabel","valueLabel","disabledLabel","bgType","border","radius","boxStyle","dyBoxStyle","tagBgType","tagSelectedBgType",["tagTextType","text"],["tagSelectedTextType","text"],["tagTextSize","base"],["tagHeight","base"],["tagBorder","all"],["tagSelectedBorder","all"],["tagRadius","base"],["tagSpace","16rpx"],"textStyle","selectedTextStyle","disabledTextStyle","tagStyle","selectedTagStyle","disabledTagStyle",["updateTime",0],"boxClass","dyBoxClass","textClass","selectedTextClass","disabledTextClass","tagClass","selectedTagClass","disabledTagClass"]),emits:["update:value","change","overed"],setup(S,{emit:C}){const m=S,v=C,B=t([]),h=l((()=>m.textLabel||"title")),f=l((()=>m.valueLabel||"value")),k=l((()=>m.disabledLabel||"disabled")),L=l((()=>{if(0===m.column)return B.value;const e=B.value.length,t=p(B.value,m.column),l=e%m.column;if(0!==l){const a=Math.ceil(e/m.column)-1;for(let e=0;e<m.column-l;e++)t[a].push(null)}return t}));function w(e){const t=B.value[e],l=!t["n-checked"];if(m.limits>1&&l&&m.value&&m.value.length>=m.limits)return void v("overed");1===m.limits&&l&&1===m.value.length&&B.value.forEach((e=>{e["n-checked"]=!1})),1===m.limits&&m.leastOne?t["n-checked"]=!0:t["n-checked"]=l;const a=[];B.value.forEach((e=>{e["n-checked"]&&a.push(e[f.value])})),v("update:value",a),v("change",{vals:a,index:e})}function _(){const e=[];m.items&&m.items.forEach(((t,l)=>{const a=m.valueLabel?t[m.valueLabel]:t;let s=!1;for(const e in m.value||[]){if(m.value[e]===a){s=!0;break}}m.textLabel?e.push({[m.textLabel]:t[m.textLabel],[m.valueLabel]:t[m.valueLabel],[m.disabledLabel]:t[m.disabledLabel],"n-checked":s}):e.push({title:t,value:t,disabled:!1,"n-checked":s})})),B.value=e}return _(),a((()=>m.items),(()=>{_()})),a((()=>m.updateTime),(()=>{_()})),(t,l)=>{const a=n(s("n-tag"),e),p=o;return y(),d(p,{class:x(["n-bg-"+t.bgType,"n-border-"+t.border,"n-radius-"+t.radius,t.boxClass]),style:i(t.boxStyle)},{default:c((()=>[0===t.column?(y(),d(p,{key:0,class:x(["n-flex-row","n-wrap-wrap",t.dyBoxClass]),style:i(t.dyBoxStyle)},{default:c((()=>[(y(!0),g(u,null,r(B.value,((e,l)=>(y(),d(p,{key:l,style:i({"margin-right":l!==B.value.length-1?t.columnSpace:"0","margin-bottom":t.rowSpace})},{default:c((()=>[T(a,{text:e[h.value],value:e[f.value],disabled:t.disabled||e[k.value],selected:e["n-checked"],bgType:t.tagBgType,selectedBgType:t.tagSelectedBgType,textType:t.tagTextType,selectedTextType:t.tagSelectedTextType,height:t.tagHeight,textSize:t.tagTextSize,border:t.tagBorder,selectedBorder:t.tagSelectedBorder,radius:t.tagRadius,space:t.tagSpace,textStyle:t.textStyle,selectedTextStyle:t.selectedTextStyle,disabledTextStyle:t.disabledTextStyle,boxStyle:t.tagStyle,selectedBoxStyle:t.selectedTagStyle,disabledBoxStyle:t.disabledTagStyle,textClass:t.textClass,selectedTextClass:t.selectedTextClass,disabledTextClass:t.disabledTextClass,boxClass:t.tagClass,selectedBoxClass:t.selectedTagClass,disabledBoxClass:t.disabledTagClass,onTagClicked:e=>w(l)},null,8,["text","value","disabled","selected","bgType","selectedBgType","textType","selectedTextType","height","textSize","border","selectedBorder","radius","space","textStyle","selectedTextStyle","disabledTextStyle","boxStyle","selectedBoxStyle","disabledBoxStyle","textClass","selectedTextClass","disabledTextClass","boxClass","selectedBoxClass","disabledBoxClass","onTagClicked"])])),_:2},1032,["style"])))),128))])),_:1},8,["class","style"])):b("",!0),0!==t.column?(y(),d(p,{key:1},{default:c((()=>[(y(!0),g(u,null,r(L.value,((e,l)=>(y(),d(p,{key:l,class:"n-flex-row n-wrap-nowrap",style:i({"margin-bottom":l!==L.value.length-1?t.rowSpace:"0"})},{default:c((()=>[(y(!0),g(u,null,r(e,((s,x)=>(y(),d(p,{key:x,class:"n-flex-1",style:i({"margin-right":x!==e.length-1?t.columnSpace:"0"})},{default:c((()=>[s?(y(),d(a,{key:0,text:s[h.value],value:s[f.value],disabled:t.disabled||s[k.value],selected:s["n-checked"],bgType:t.tagBgType,selectedBgType:t.tagSelectedBgType,textType:t.tagTextType,selectedTextType:t.tagSelectedTextType,height:t.tagHeight,textSize:t.tagTextSize,border:t.tagBorder,selectedBorder:t.tagSelectedBorder,radius:t.tagRadius,space:t.tagSpace,textStyle:t.textStyle,selectedTextStyle:t.selectedTextStyle,disabledTextStyle:t.disabledTextStyle,boxStyle:t.tagStyle,selectedBoxStyle:t.selectedTagStyle,disabledBoxStyle:t.disabledTagStyle,textClass:t.textClass,selectedTextClass:t.selectedTextClass,disabledTextClass:t.disabledTextClass,boxClass:t.tagClass,selectedBoxClass:t.selectedTagClass,disabledBoxClass:t.disabledTagClass,onTagClicked:e=>w(l*t.column+x)},null,8,["text","value","disabled","selected","bgType","selectedBgType","textType","selectedTextType","height","textSize","border","selectedBorder","radius","space","textStyle","selectedTextStyle","disabledTextStyle","boxStyle","selectedBoxStyle","disabledBoxStyle","textClass","selectedTextClass","disabledTextClass","boxClass","selectedBoxClass","disabledBoxClass","onTagClicked"])):b("",!0)])),_:2},1032,["style"])))),128))])),_:2},1032,["style"])))),128))])),_:1})):b("",!0)])),_:1},8,["class","style"])}}};export{C as _};
