import{r as e,J as t,b as l,o as s,d as r,w as n,k as o,F as a,l as i,e as u,j as c,i as d,E as p,h,t as f,q as m,C as g,S as _}from"./index-DyB-GtSf.js";import{_ as b}from"./n-list-cell.CFZ1yxA_.js";import{r as j,o as x}from"./uni-app.es.CYr7Wecl.js";import{_ as v}from"./n-height.iPg7YRxT.js";import{_ as S}from"./n-list.qlhvrMMX.js";import{c as w}from"./system.Bdz65IDa.js";import{a as y}from"./albumCommentCell.CTXjKEaI.js";import{u as C}from"./element.B9OwrRfy.js";import{u as H}from"./useHeader.DTk1eSaA.js";import"./props.CkprGx8I.js";import"./usePager.Bx7XEHLh.js";import"./_plugin-vue_export-helper.BCo6x5W8.js";import"./n-icon.C34IfF9H.js";import"./logo-dark.CZL61Hjp.js";import"./imgs.wUGTdslH.js";const T={__name:"albumList",props:{current:{type:Number,default:0},index:{type:Number,default:0},headerHeight:{type:Number,default:0},parentId:{type:String,default:""},scrollable:{type:Boolean,default:!1}},emits:["move"],setup(p,{expose:h,emit:f}){const m=p,g=f;h({refresh:function(e,t){v=!0,_=e,w.list.nReload()},setSpecialEffects:function(){w.list.setSpecialEffects()}});let _=null;const x=e([]);let v=!1;const w=C();function H(e){g("move",e)}function T(e){setTimeout((()=>{x.value=1===e?[1,2,3,4,5,6,7,8,9,10]:x.value.concat([1,2,3,4,5,6,7,8,9,10]),e>=6?w.list.nEndSuccess(!1):w.list.nEndSuccess(!0),1==e&&_&&_()}),300)}return t((()=>m.current),(()=>{v||m.current!=m.index||(v=!0,w.list.nRefresh())})),(e,t)=>{const h=d,f=j(l("n-list-cell"),b),m=j(l("n-list"),S);return s(),r(m,{height:"window-!status-!nav-!80rpx",ref:e=>c(w).set(e,"list"),isChild:!0,parentId:p.parentId,scrollable:p.scrollable,headerHeight:p.headerHeight,down:{use:!1},up:{use:!0},onDown:T,onUp:T,onMove:H},{default:n((()=>[(s(!0),o(a,null,i(x.value,((e,t)=>(s(),r(f,{key:t},{default:n((()=>[u(y),u(h,{style:{height:"20rpx"}})])),_:2},1024)))),128))])),_:1},8,["parentId","scrollable","headerHeight"])}}},k={__name:"header-swiper",setup(e){const t=w(),y=[1,2,3,4],k=C(),{current:E,headerHeight:I,parentScrollable:F,childScrollable:M,toSetSpecialEffects:D,toRefresh:N,onChangeSwiper:R,onChangeTab:P,onParentScroll:q,onScrollableChange:z,onChildTouchMove:B}=H(k);return x((()=>{I.value="android"==t?p(600)-p(140):p(600),setTimeout((()=>{D(E.value),N()}),50)})),(e,t)=>{const p=d,x=m,w=j(l("n-list-cell"),b),C=_,H=g,D=j(l("n-height"),v),P=j(l("n-list"),S);return s(),r(p,null,{default:n((()=>[u(P,{ref:e=>c(k).set(e,"list"),isParent:!0,scrollable:c(F),listId:"hslist",down:{use:!0},up:{use:!1},headerHeight:c(I),onScroll:c(q),onDown:c(N),onToggle:c(z)},{default:n((()=>[u(w,null,{default:n((()=>[u(p,{style:{height:"600rpx","background-color":"#430581"}}),u(p,{class:"n-flex-row n-align-center n-justify-center",style:{height:"80rpx","background-color":"#FF23FF"}},{default:n((()=>[u(x,{class:"n-color-inverse n-size-ll"},{default:n((()=>[h(f(c(E)),1)])),_:1})])),_:1})])),_:1}),u(w,null,{default:n((()=>[u(D,{height:"window-!status-!nav-!80rpx"},{default:n((()=>[u(H,{current:c(E),style:{width:"750rpx",flex:"1"},onChange:c(R)},{default:n((()=>[(s(),o(a,null,i(y,((e,t)=>u(C,{key:t},{default:n((()=>[u(T,{ref_for:!0,ref:e=>c(k).set(e,"list_"+t),scrollable:c(M),isChild:!0,parentId:"hslist",headerHeight:c(I),current:c(E),index:t,onMove:c(B)},null,8,["scrollable","headerHeight","current","index","onMove"])])),_:2},1024))),64))])),_:1},8,["current","onChange"])])),_:1})])),_:1})])),_:1},8,["scrollable","headerHeight","onScroll","onDown","onToggle"])])),_:1})}}};export{k as default};
