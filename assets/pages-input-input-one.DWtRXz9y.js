import{_ as e}from"./n-navbar.DgJOiXYI.js";import{r as l,J as t,c as a,d as o,w as s,n,m as u,i,o as r,k as d,l as p,F as c,e as m,P as v,f as h,h as f,t as x,q as y,I as g,b,j as w}from"./index-DyB-GtSf.js";import{r as C}from"./uni-app.es.CYr7Wecl.js";import{m as j}from"./props.CkprGx8I.js";import{_}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as S}from"./n-button.C0Lbq8AA.js";import{_ as $}from"./n-list-cell.CFZ1yxA_.js";import{_ as k}from"./n-list.qlhvrMMX.js";import{u as B}from"./useNav.y5ABEmWP.js";import"./n-icon.C34IfF9H.js";import"./n-badge.U9JWwHKe.js";import"./system.Bdz65IDa.js";import"./n-loading-indicator.BodNpqVl.js";import"./usePager.Bx7XEHLh.js";import"./element.B9OwrRfy.js";const M=_({__name:"n-input-one",props:j(["value",["inputVisible",!0],["maxlength",4],["password",!1],["cursor",!1],["focus",!1],["disabled",!1],["mode","middle"],["adjust",!0],["width","100rpx"],["space","12rpx"],["dotStyle","width:16rpx;height:16rpx;border-radius:16rpx;background-color:#000000;"],["lineStyle","width:80rpx;height:8rpx;border-radius:12rpx;background-color:#000000;"],"activeLineStyle",["cursorStyle","width:1px;height:42rpx;background-color:#8F9CFF;"],["valueStyle","font-size:70rpx;font-weight:700;color:#000000;"],"boxStyle","itemStyle","activeItemStyle","dotClass","lineClass","activeLineClass","cursorClass","valueClass","boxClass","itemClass","activeItemClass"]),emits:["update:value","finish","keyboardHeightChange","blur","focus","confirm"],setup(e,{expose:g,emit:b}){const w=e,C=b,j=l([]),_=l(w.value),S=l(1),$=l([]),k=l(null);g({nFocus:function(){},nBlur:function(){},clear:function(){_.value="",$.value=[],S.value=1}}),H(w.value),t((()=>w.maxlength),(e=>{let l=[];for(let t=1;t<=e;t++)l.push(t);j.value=l}),{immediate:!0}),t((()=>w.value),(e=>{e!==_.value&&(_.value=e,H(e))}),{immediate:!0});const B=a((()=>w.width.indexOf("rpx")>=0||w.width.indexOf("upx")>=0?"rpx":"px")),M=a((()=>{let e=`width:${w.width};height:${w.width};`;return"box"===w.mode&&(e+="border-radius:0;border-width:1px;border-style:solid;border-color:#000000;"),e+w.itemStyle})),F=a((()=>{const e=parseFloat(w.width);return`left:${.5*e}${B.value};top:${.5*e}${B.value};`+w.cursorStyle})),I=a((()=>{const e=parseFloat(w.width);let l=`position:absolute;left:${.5*e}${B.value};top:${.5*e}${B.value};`;return l+="transform:translate(-50%,-50%);",l+w.lineStyle})),L=a((()=>{let e=`position:absolute;left:${.5*parseFloat(w.width)}${B.value};bottom:0;`;return e+="transform:translateX(-50%);",e+w.lineStyle})),U=a((()=>{const e=parseFloat(w.width);let l=`left:${.5*e}${B.value};top:${.5*e}${B.value};`;return l+="transform:translate(-50%,-50%);",l+w.dotStyle}));function A(e){const l=e.detail.value;_.value=l,C("update:value",l),H(l)}function H(e){const l=e.split("");S.value=l.length+1,$.value=l,S.value>w.maxlength&&C("finish",$.value.join(""))}function O(e){C("blur",e)}function P(e){C("focus",e)}function q(e){C("confirm",e.detail.value)}function K(e){C("keyboardHeightChange",e)}return(e,l)=>{const t=i,a=y,g=v;return r(),o(t,{class:n(["n-position-relative","n-flex-row","n-justify-center",e.boxClass]),style:u(e.boxStyle)},{default:s((()=>[(r(!0),d(c,null,p(j.value,((l,i)=>(r(),o(t,{key:i,class:n(["n-position-relative",e.itemClass,$.value.length+1==l?e.activeItemClass:""]),style:u(M.value+($.value.length+1==l?e.activeItemStyle:"")+(i!=j.value.length-1?"margin-right:"+e.space+";":""))},{default:s((()=>["middle"===e.mode&&S.value<=l?(r(),o(t,{key:0,class:n([e.lineClass]),style:u(I.value)},null,8,["class","style"])):h("",!0),"bottom"===e.mode?(r(),o(t,{key:1,class:n([e.lineClass,$.value.length+1==l?e.activeLineClass:""]),style:u(L.value+($.value.length+1==l?e.activeLineStyle:""))},null,8,["class","style"])):h("",!0),"box"===e.mode&&$.value.length+1==l&&e.cursor?(r(),o(t,{key:2,class:n(["n-one-cursor",e.cursorClass]),style:u(F.value)},null,8,["class","style"])):h("",!0),e.password&&$.value.length>=l?(r(),o(t,{key:3,class:n(["n-position-absolute",e.dotClass]),style:u(U.value)},null,8,["class","style"])):h("",!0),e.password?h("",!0):(r(),o(a,{key:4,class:n(["n-text-align-center",e.valueClass]),style:u("line-height:"+e.width+";"+e.valueStyle)},{default:s((()=>[f(x($.value[i]?$.value[i]:""),1)])),_:2},1032,["class","style"]))])),_:2},1032,["class","style"])))),128)),m(g,{ref_key:"ninput",ref:k,disabled:e.disabled,type:"number","adjust-position":e.adjust,value:_.value,focus:e.focus,maxlength:e.maxlength,class:"n-one-hide-input",style:u({height:e.width}),onInput:A,onBlur:O,onFocus:P,onConfirm:q,onKeyboardheightchange:K},null,8,["disabled","adjust-position","value","focus","maxlength","style"])])),_:1},8,["class","style"])}}},[["__scopeId","data-v-d9c194d1"]]),F={__name:"input-one",setup(l){const{leftIcons:t,navLeftAction:a}=B(),n=g({showCursor:!1,oneBox:"6",oneBottom:"57",oneMiddle:"369",oneMiddle2:"241"});function u(){n.showCursor=!n.showCursor}return(l,d)=>{const p=C(b("n-navbar"),e),c=i,v=C(b("n-input-one"),M),h=C(b("n-button"),S),f=C(b("n-list-cell"),$),x=C(b("n-list"),k);return r(),o(c,null,{default:s((()=>[m(p,{lefts:w(t),title:"验证码输入框",onLeftAction:w(a)},null,8,["lefts","onLeftAction"]),m(x,{down:null,up:null},{default:s((()=>[m(f,null,{default:s((()=>[m(c,{style:{height:"20rpx"}}),m(v,{value:n.oneBox,"onUpdate:value":d[0]||(d[0]=e=>n.oneBox=e),mode:"box"},null,8,["value"]),m(v,{value:n.oneBox,"onUpdate:value":d[1]||(d[1]=e=>n.oneBox=e),mode:"box",password:!0,maxlength:6,cursor:n.showCursor},null,8,["value","cursor"]),m(v,{value:n.oneBottom,"onUpdate:value":d[2]||(d[2]=e=>n.oneBottom=e),mode:"bottom"},null,8,["value"]),m(v,{value:n.oneBottom,"onUpdate:value":d[3]||(d[3]=e=>n.oneBottom=e),mode:"bottom",password:!0},null,8,["value"]),m(v,{value:n.oneMiddle,"onUpdate:value":d[4]||(d[4]=e=>n.oneMiddle=e),mode:"middle"},null,8,["value"]),m(v,{value:n.oneMiddle,"onUpdate:value":d[5]||(d[5]=e=>n.oneMiddle=e),mode:"middle",password:!0},null,8,["value"]),m(v,{value:n.oneMiddle2,"onUpdate:value":d[6]||(d[6]=e=>n.oneMiddle2=e),mode:"middle",maxlength:6},null,8,["value"]),m(v,{value:n.oneMiddle2,"onUpdate:value":d[7]||(d[7]=e=>n.oneMiddle2=e),mode:"middle",password:!0,maxlength:6},null,8,["value"]),m(c,{style:{height:"20rpx"}}),m(h,{text:"切换光标状态",onButtonClicked:u})])),_:1})])),_:1})])),_:1})}}};export{F as default};
